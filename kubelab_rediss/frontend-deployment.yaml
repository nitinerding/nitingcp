#Creating deployment for frontend.
#Befor creating any deployment need to check the api version usin command:
#     kubectl explain deployment : It will provide which API version path need to requested

apiVersion: extensions/v1beta1
kind: Deployment  #
metadata:           #It is resource, kubectl explain deploy.metadata.name
  name: frontend
spec:               #Specification of the desired behavior of the Deployment.
  replicas: 3
  template:     #kubectl explain deploy.spec.template  -- Template describes the pods that will be created.
    metadata:   # metadata help to define the labels.
      label:    # Under the label, we are defining 2 key value, app anme and tier.
        app: guestbook
        tier: frontend
    spec:       #specifications for pod that is going to run based on template.
      container:
        - name: php-redis  #https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.13/#container-v1-core
          image: gcr.io/google-samples/gb-frontend:v4
          resources:            #Compute Resources required by this container. Cannot be updated.
            requests:
              cpu: 100m
              memory: 100Mi
          env:
        - name: GET_HOSTS_FROM
          value: dns
          # If your cluster config does not include a dns service, then to
          # instead access environment variables to find service host
          # info, comment out the 'value: dns' line above, and uncomment the
          # line below:
          # value: env
          ports:
          - containerPort: 80
